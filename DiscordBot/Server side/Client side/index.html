<!DOCTYPE html>
<html>
<head>
	<!-- Setup p5.js -->
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>DiscordBot</title>

	<script src="libraries/p5.js"></script>
	<script src="libraries/p5.dom.js"></script>
	<script src="libraries/p5.sound.js"></script>

	<style>
		body {
			margin:0;
			padding:0;
			overflow: hidden;
		}
		canvas {
			margin:auto;
		}
	</style>
</head>
<body>
	<script>
		//Variable setup
			//Horisontal position
			let h = 25;
			//Vertical position
			let v = 25;
			//Size
			let s = 50;
			//Form
			let f = "squ"
			//Color
			let c = 'rgb(50,50,50)'
		
		//Setup canvas
		function setup() {
			createCanvas(800, 600);
			let data = {};
		}

/* 	
		//Preload database
		function preload() {
			data = loadJSON('database.json', gotData);
		}
 */

		//Draw the bg and the shape
		function draw() {
			background(150)

			//Choose fill
			fill(c)

			//Draw the shape
			switch (f) {
				case "cir":
					ellipse(375+h,275+v,s)
					break;
				case "squ":
					rect(350+h,250+v,s,s)
					break;
				case "tri":
					triangle(375+h-s, 275+v-s, 375+h, 275+v+s, 375+h+s, 275+v-s);
			}
		}


		function reLoad() {
			data = loadJSON('database.json', gotData);
		}

		//Use the info from the database to change 
		//the position of the circle
		function gotData(data) {
			console.log("Date recieved!")
			h = data.hchange;
			v = data.vchange;
			s = data.size;
			f = data.shape;
			c = data.color;
		}

		//Set an interval for getting info from the database
		setInterval(reLoad, 1000);

	</script>
</body>
</html>
